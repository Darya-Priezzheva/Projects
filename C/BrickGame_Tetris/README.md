# BrickGame Tetris

Терминальная реализация игры **Tetris** на языке C с разделением логики игры и пользовательского интерфейса.  
Проект реализован с использованием конечного автомата, библиотеки `ncurses` и unit-тестов.

## Описание проекта

BrickGame v1.0 — это консольная версия классического Tetris, состоящая из:
- библиотеки с логикой игры;
- терминального интерфейса (CLI) на базе `ncurses`.

Логика игры формализована с помощью **конечного автомата (Finite State Machine)**, что упрощает управление состояниями игры и обработку пользовательского ввода.

Проект разработан в соответствии со стандартом **C11** и ориентирован на **POSIX.1-2017**.

---

## Архитектура проекта

Проект разделён на два независимых слоя:

- **Логика игры** — библиотека, не зависящая от интерфейса
- **Пользовательский интерфейс** — CLI-приложение для отображения состояния игры

## Основные возможности

### Игровая логика
- Конечный автомат для управления состояниями игры
- Генерация всех классических фигур Tetris
- Вращение фигур
- Горизонтальное перемещение
- Ускоренное падение фигуры
- Уничтожение заполненных линий
- Завершение игры при достижении верхней границы поля
- Предпросмотр следующей фигуры

### Игровое поле
- Размер поля: **10 × 20**
- Фигура останавливается при столкновении или достижении нижней границы

---

## Управление

Поддержка всех кнопок физической консоли:

- Начало игры
- Пауза
- Завершение игры
- ← — движение влево
- → — движение вправо
- ↓ — ускоренное падение
- ↑ — не используется
- Action — вращение фигуры

---

## Подсчет очков (дополнительная часть)

В игре реализована система очков:

| Уничтоженные линии | Очки |
|--------------------|------|
| 1 линия            | 100  |
| 2 линии            | 300  |
| 3 линии            | 700  |
| 4 линии            | 1500 |

- Текущий счёт отображается в боковой панели
- Максимальный рекорд сохраняется между запусками игры
- Рекорд обновляется при превышении текущего значения

---

## Система уровней (дополнительная часть)

- Каждые **600 очков** уровень увеличивается на 1
- Повышение уровня увеличивает скорость падения фигур
- Максимальное количество уровней — **10**

---

## Unit-тестирование

- Логика игры покрыта unit-тестами с использованием библиотеки **Check**
- Покрытие логики тестами — **не менее 80%**
- Тесты проходят на **Ubuntu / Darwin**

---

## Сборка и запуск

Сборка проекта

```bash
make all
```

Установка
```
make install
```

Удаление
```
make uninstall
```
Запуск тестов
```
make test
```
Генерация отчета покрытия gcov
```
make gcov_report
```

### Используемые технологии

- Язык C (стандарт C11)
- библиотека ncurses
- библиотека Check (unit-тестирование)
- gcov
- Makefile
- Конечный автомат (FSM)